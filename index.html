<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUV Portal</title>
    
    <!-- Tailwind CSS (via CDN für sofortige Nutzung ohne Build) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (via CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Zusätzliche Stile falls nötig, hier hauptsächlich Tailwind genutzt */
        body {
            -webkit-font-smoothing: antialiased;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans min-h-screen flex flex-col">

    <!-- Navigation Container -->
    <div id="nav-container" class="sticky top-0 z-50"></div>

    <!-- Main Content Area -->
    <main id="main-content" class="flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8">
        <!-- Inhalt wird hier per JS geladen -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-100 border-t border-slate-200 mt-auto">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-slate-500 text-sm">
            <p>© 2026 Luftsport-Unterstützungs-Verein (LUV). Alle Angaben basieren auf den LUV-Bedingungen (Stand Jan 2015).</p>
            <p class="mt-2">Adresse: Johannes Kammerer, Müllerstrasse 43, CH 8004 Zürich</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            activeTab: 'home',
            mobileMenuOpen: false
        };

        // --- Navigation Update Logic ---
        function setActiveTab(tabId) {
            state.activeTab = tabId;
            state.mobileMenuOpen = false; // Close mobile menu on selection
            renderApp();
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            state.mobileMenuOpen = !state.mobileMenuOpen;
            renderNav(); // Only re-render nav to show/hide menu
            lucide.createIcons();
        }

        // --- Components (als Funktionen, die HTML-Strings zurückgeben) ---

        // Helper: Navigation Button
        const NavButton = (id, label, iconName) => {
            const isActive = state.activeTab === id;
            const baseClass = "flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors cursor-pointer";
            const activeClass = "bg-slate-800 text-sky-400";
            const inactiveClass = "text-gray-300 hover:bg-slate-700 hover:text-white";
            
            return `
                <button onclick="setActiveTab('${id}')" class="${baseClass} ${isActive ? activeClass : inactiveClass}">
                    <i data-lucide="${iconName}" class="h-4 w-4"></i>
                    <span>${label}</span>
                </button>
            `;
        };

        // Helper: Mobile Navigation Button
        const MobileNavButton = (id, label) => {
            const isActive = state.activeTab === id;
            const baseClass = "block w-full text-left px-4 py-3 text-base font-medium cursor-pointer";
            const activeClass = "bg-slate-900 text-sky-400";
            const inactiveClass = "text-gray-300 hover:bg-slate-700 hover:text-white";

            return `
                <button onclick="setActiveTab('${id}')" class="${baseClass} ${isActive ? activeClass : inactiveClass}">
                    ${label}
                </button>
            `;
        };

        // Helper: Dashboard Card
        const DashboardCard = (title, iconName, text, actionId) => `
            <div onclick="setActiveTab('${actionId}')" class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition cursor-pointer group flex flex-col justify-between">
                <div>
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-slate-800">${title}</h3>
                        <div class="p-2 bg-indigo-50 rounded-lg group-hover:bg-indigo-100 transition">
                            <i data-lucide="${iconName}" class="text-indigo-600 h-6 w-6"></i>
                        </div>
                    </div>
                    <p class="text-slate-600 mb-4 text-sm">${text}</p>
                </div>
                <span class="text-indigo-600 font-medium text-sm flex items-center group-hover:underline mt-2">
                    Mehr erfahren <i data-lucide="chevron-down" class="ml-1 h-4 w-4 rotate-[-90deg]"></i>
                </span>
            </div>
        `;

        // Helper: Condition Item
        const ConditionItem = (title, text) => `
            <div>
                <h4 class="text-sm font-bold text-slate-800">${title}</h4>
                <p class="text-sm text-slate-600">${text}</p>
            </div>
        `;

        // --- Views ---

        const HomeView = () => `
            <div class="space-y-8 animate-fade-in">
                <div class="bg-gradient-to-r from-sky-600 to-indigo-700 rounded-2xl shadow-xl p-8 sm:p-12 text-white">
                    <h1 class="text-3xl sm:text-4xl font-bold mb-4">Willkommen beim LUV Informationsportal</h1>
                    <p class="text-lg sm:text-xl text-sky-100 max-w-3xl">
                        Ihr zentraler Anlaufpunkt für alle Informationen rund um die Versicherung Ihres Flugzeuges. 
                        Hier finden Sie strukturiert alle Regeln, Bedingungen und Abläufe für Piloten und Halter.
                    </p>
                    <div class="mt-8 flex flex-wrap gap-4">
                        <button onclick="setActiveTab('conditions')" class="bg-white text-indigo-700 font-semibold py-2 px-6 rounded-lg shadow hover:bg-indigo-50 transition">
                            Was ist versichert?
                        </button>
                        <button onclick="setActiveTab('claims')" class="bg-sky-500 bg-opacity-20 border border-sky-300 text-white font-semibold py-2 px-6 rounded-lg hover:bg-opacity-30 transition">
                            Schaden melden
                        </button>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    ${DashboardCard("Versicherungs-Check", "shield-alert", "Prüfen Sie Deckungsumfang, Selbstbehalte und Ausschlüsse.", "conditions")}
                    ${DashboardCard("Für Piloten", "plane", "Wichtige Infos zu Flugerfahrung, Einweisungen und Wettbewerben.", "pilots")}
                    ${DashboardCard("Neuabschluss", "file-plus", "Infos zur Anmeldung, Verlängerung und Wertangaben für Flugzeuge.", "new-entry")}
                    ${DashboardCard("Im Schadenfall", "alert-triangle", "Schnellanleitung: Was ist sofort zu tun? Dokumente und Meldewege.", "claims")}
                </div>
            </div>
        `;

        const ConditionsView = () => `
            <div class="space-y-6">
                <div class="border-b pb-4 mb-6">
                    <h2 class="text-2xl font-bold text-slate-800">Allgemeine Bedingungen</h2>
                    <p class="text-slate-500">Zusammenfassung aus den Allgemeinen Bedingungen (Stand Jan 2015)</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Versichert -->
                    <div class="bg-white rounded-xl shadow-sm border border-green-100 overflow-hidden">
                        <div class="bg-green-50 px-6 py-4 border-b border-green-100 flex items-center">
                            <i data-lucide="check-circle" class="text-green-600 mr-2 h-5 w-5"></i>
                            <h3 class="font-bold text-green-800">Versicherte Ereignisse</h3>
                        </div>
                        <div class="p-6 space-y-4">
                            ${ConditionItem("1.1 Unfall", "Plötzlich und gewaltsam von außen einwirkendes Ereignis (inkl. Überlastung der Zelle im Flug) oder >30 Tage Verschollenheit.")}
                            ${ConditionItem("1.2 Feuer", "Brand, Explosion, Blitzschlag.")}
                            ${ConditionItem("1.3 Elementar", "Erdrutsch, Steinschlag, Hochwasser, Sturmwind (>40kt), Hagel, Lawine, Schneedruck.")}
                            ${ConditionItem("1.4 Diebstahl", "Raub, Entwendung oder Versuch dazu (Achtung: Veruntreuung ist nicht versichert).")}
                            ${ConditionItem("1.5 Glasbruch", "Bruch der Scheibe(n)/Haube(n).")}
                            ${ConditionItem("1.6 Tierschäden", "Schäden verursacht durch äußere Einwirkung von Tieren.")}
                            <div class="mt-4 pt-4 border-t border-slate-100">
                                <span class="text-sm font-semibold text-slate-700">Geltungsbereich:</span>
                                <span class="text-sm text-slate-600 ml-2">Weltweit</span>
                            </div>
                        </div>
                    </div>

                    <!-- Nicht Versichert -->
                    <div class="bg-white rounded-xl shadow-sm border border-red-100 overflow-hidden">
                        <div class="bg-red-50 px-6 py-4 border-b border-red-100 flex items-center">
                            <i data-lucide="x-circle" class="text-red-600 mr-2 h-5 w-5"></i>
                            <h3 class="font-bold text-red-800">Nicht versichert</h3>
                        </div>
                        <div class="p-6 space-y-4">
                            <ul class="list-disc list-outside ml-4 space-y-2 text-slate-700 text-sm">
                                <li>Schäden, wenn das Flugzeug vorsätzlich ohne die vorgeschriebenen Ausweise, Bewilligungen und Berechtigungen verwendet wird. (Versicherungspflicht bleibt bestehen, wenn dies ohne Wissen/Verschulden des Halters geschieht).</li>
                                <li>Kriegsereignisse, innere Unruhen, Streik, Verfügung von hoher Hand oder Beschlagnahmung.</li>
                                <li>Schäden durch natürliche Abnützung, durch Material-, Konstruktions- oder Fabrikationsfehler (der Folgeschaden an der versicherten Sache ist jedoch gedeckt).</li>
                                <li>Schäden, die unmittelbar oder mittelbar durch atomare Energie verursacht sind.</li>
                                <li>Vorsätzliche Herbeiführung des Schadens durch das Mitglied. (Bei grober Fahrlässigkeit ist der LUV berechtigt, seine Leistung in einem dem Verschulden entsprechenden Verhältnis zu kürzen).</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Finanzen -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 mt-8">
                    <div class="p-6">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center">
                            <i data-lucide="file-text" class="mr-2 h-5 w-5 text-sky-600"></i>
                            Finanzielles & Beiträge
                        </h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-slate-800 mb-2">Beitragszahlung</h4>
                                <p class="text-sm text-slate-600">
                                    Der Beitrag ist innert 30 Tagen nach Rechnungserhalt zu zahlen. 
                                    Bei Nichtbezahlung ruht die Leistungspflicht nach Ablauf von 14 Tagen nach der eingeschriebenen Mahnung.
                                </p>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-slate-800 mb-2">Treuerabatt</h4>
                                <p class="text-sm text-slate-600">
                                    In den ersten 3 Versicherungsjahren ist der volle Beitrag zu zahlen. 
                                    Nach Ablauf von 3 Jahren kann ein Treuerabatt gemäß den zusätzlichen Bedingungen gewährt werden.
                                </p>
                            </div>
                            <div class="bg-slate-50 p-4 rounded-lg md:col-span-2">
                                <h4 class="font-semibold text-slate-800 mb-2">Rückgriff & Andere Entschädigungen</h4>
                                <p class="text-sm text-slate-600">
                                    Das Mitglied muss andere Entschädigungsmöglichkeiten (Haftpflicht Dritter, andere Versicherer) ausschöpfen. 
                                    Erhaltene Entschädigungen sind an den LUV abzutreten bzw. werden verrechnet.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        const PilotsView = () => `
            <div class="space-y-8">
                <div class="bg-amber-50 border-l-4 border-amber-500 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i data-lucide="alert-triangle" class="h-5 w-5 text-amber-500"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-amber-700">
                                <strong>Wichtig:</strong> Unzureichende Flugerfahrung ist eine Hauptursache für Schäden. Die Einhaltung dieser Regeln hat Priorität für den Versicherungsschutz.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="grid gap-6">
                    <!-- Flugerfahrung -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 border-b pb-2">1. Ausreichende Flugerfahrung</h3>
                        <div class="space-y-4">
                            <p class="text-slate-700">Grundsatz: Nach einem mehr als <strong>dreimonatigen Unterbruch</strong> muss jeder Pilot einen Überprüfungsstart mit Fluglehrer absolvieren.</p>
                            
                            <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                                <h4 class="font-semibold text-slate-800 mb-2">Ausnahme für "Erfahrene Piloten"</h4>
                                <p class="text-sm text-slate-600 mb-2">Nicht unter die 3-Monats-Regel fallen Piloten, die folgende Bedingungen erfüllen:</p>
                                <ul class="list-disc list-inside text-sm text-slate-700 space-y-1">
                                    <li>Mehr als 500 Stunden Segelflugerfahrung <strong>INSGESAMT</strong></li>
                                    <li><span class="font-semibold text-indigo-600">ODER</span> innerhalb der letzten 4 Jahre 200 Segelflugstunden</li>
                                </ul>
                                <p class="text-xs text-red-600 mt-2 font-semibold">
                                    ACHTUNG: Diese Ausnahme gilt NICHT, wenn in den letzten zwei Jahren weniger als 20 Stunden geflogen wurden!
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Einweisungen -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 border-b pb-2">2. Einweisungen & Flugzeugtypen</h3>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-slate-800 mb-2">Wer darf einweisen?</h4>
                                <ul class="space-y-2 text-sm text-slate-600">
                                    <li class="flex items-start"><i data-lucide="check-circle" class="mr-2 mt-0.5 text-green-500 h-4 w-4"></i> <span><strong>Flugschüler:</strong> Nur von Fluglehrern.</span></li>
                                    <li class="flex items-start"><i data-lucide="check-circle" class="mr-2 mt-0.5 text-green-500 h-4 w-4"></i> <span><strong>Scheininhaber:</strong> Von Fluglehrer oder vom Halter bestimmtem erfahrenen Einweiser.</span></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold text-slate-800 mb-2">Voraussetzungen</h4>
                                <ul class="space-y-2 text-sm text-slate-600">
                                    <li class="flex items-start"><i data-lucide="file-text" class="mr-2 mt-0.5 text-sky-500 h-4 w-4"></i> <span>Flughandbuch gelesen</span></li>
                                    <li class="flex items-start"><i data-lucide="file-text" class="mr-2 mt-0.5 text-sky-500 h-4 w-4"></i> <span>Wichtige Geschwindigkeiten bekannt</span></li>
                                </ul>
                            </div>
                        </div>

                        <div class="mt-6">
                            <h4 class="font-semibold text-slate-800 mb-2">Anrechnung von Erfahrung</h4>
                            <p class="text-sm text-slate-600 mb-2">Aktuelle Flugerfahrung auf einem Segelflugzeug einer "höheren Klasse" wird angerechnet. Klassen:</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="px-3 py-1 bg-gray-100 rounded-full text-xs font-medium text-gray-600">Holz-/Stahlrohr</span>
                                <span class="px-3 py-1 bg-gray-100 rounded-full text-xs font-medium text-gray-600">Kunststoff (starr)</span>
                                <span class="px-3 py-1 bg-indigo-100 rounded-full text-xs font-medium text-indigo-600">Wölbklappenflugzeuge</span>
                            </div>
                        </div>
                    </div>

                    <!-- Überlandflüge -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 border-b pb-2">3. Überlandflüge & Wettbewerbe</h3>
                        
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="min-w-[4px] h-full bg-sky-500 mr-4 rounded"></div>
                                <div>
                                    <h4 class="font-bold text-slate-800">Motorsegler / Turbos / Eigenstarter</h4>
                                    <p class="text-sm text-slate-600 mt-1">
                                        Für Überlandflüge sind <strong>3 Inbetriebnahmen des Triebwerkes in der Luft</strong> innerhalb der letzten 6 Monate erforderlich.
                                    </p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="min-w-[4px] h-full bg-indigo-500 mr-4 rounded"></div>
                                <div>
                                    <h4 class="font-bold text-slate-800">Wettbewerbe</h4>
                                    <p class="text-sm text-slate-600 mt-1">
                                        Voller Versicherungsschutz besteht nur, wenn der Wettbewerb von der FAI oder dem nationalen Aeroclub genehmigt/ausgeschrieben ist.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        const ClaimsView = () => `
            <div class="space-y-6">
                <div class="bg-red-50 border border-red-200 rounded-xl p-6 text-center">
                    <h2 class="text-2xl font-bold text-red-700 mb-2">Unfall passiert?</h2>
                    <p class="text-red-600">Bewahren Sie Ruhe. Personenschutz geht vor Sachschutz.</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">Sofortmaßnahmen</h3>
                        <ol class="list-decimal list-inside space-y-3 text-slate-700">
                            <li><strong>Schaden mindern:</strong> Soweit möglich, weiteren Schaden abwenden (z.B. Flugzeug sichern).</li>
                            <li><strong>Meldung:</strong> Sofortige Meldung an den LUV-Vorstand.</li>
                            <li><strong>Keine Anerkenntnisse:</strong> Keine Schuldgeständnisse oder Zahlungen an Dritte ohne Rücksprache.</li>
                            <li><strong>Behörden:</strong> Bei Personenschäden oder schweren Sachschäden Polizei/BfU verständigen.</li>
                            <li><strong>Fotos:</strong> Machen Sie aussagekräftige Fotos vom Schaden und der Umgebung.</li>
                        </ol>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">Schadensmeldung ausfüllen</h3>
                        <p class="text-sm text-slate-600 mb-4">
                            Das Formular muss vollständig ausgefüllt an Johannes Kammerer (Zürich) gesendet werden. Folgende Daten bereithalten:
                        </p>
                        <ul class="space-y-2 text-sm text-slate-700 mb-6">
                            <li class="flex items-center"><i data-lucide="check-circle" class="text-green-500 mr-2 h-4 w-4"></i> Halter & Pilot (inkl. Lizenzdaten)</li>
                            <li class="flex items-center"><i data-lucide="check-circle" class="text-green-500 mr-2 h-4 w-4"></i> Flugzeugdaten (Kennzeichen, Typ, Werk-Nr.)</li>
                            <li class="flex items-center"><i data-lucide="check-circle" class="text-green-500 mr-2 h-4 w-4"></i> Ort, Datum, Uhrzeit</li>
                            <li class="flex items-center"><i data-lucide="check-circle" class="text-green-500 mr-2 h-4 w-4"></i> Schadenshergang (Skizze & Beschreibung)</li>
                            <li class="flex items-center"><i data-lucide="check-circle" class="text-green-500 mr-2 h-4 w-4"></i> Zeugen & Beteiligte</li>
                        </ul>
                        <div class="bg-slate-100 p-4 rounded text-center">
                            <p class="font-semibold text-slate-800 mb-2">Adresse für Meldung:</p>
                            <p class="text-sm text-slate-600">Johannes Kammerer<br/>Müllerstrasse 43<br/>CH 8004 Zürich</p>
                        </div>
                    </div>
                </div>

                <div class="bg-sky-50 border border-sky-100 rounded-xl p-6">
                    <h3 class="font-bold text-sky-800 mb-2 flex items-center"><i data-lucide="download" class="mr-2 h-5 w-5"></i> Download Formulare</h3>
                    <p class="text-sm text-sky-700 mb-4">Bitte laden Sie die Schadensmeldung herunter, füllen Sie sie aus und senden Sie sie unterschrieben ab.</p>
                    <button class="bg-sky-600 text-white px-4 py-2 rounded hover:bg-sky-700 transition text-sm font-medium">
                        Schadensmeldung PDF herunterladen
                    </button>
                </div>
            </div>
        `;

        const NewEntryView = () => `
            <div class="space-y-6">
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-200">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6">Neuabschluss / Verlängerung</h2>
                    <p class="text-slate-600 mb-6">
                        Für die Aufnahme eines Flugzeuges in die LUV Versicherung sind folgende Angaben im Anmeldeformular zwingend erforderlich.
                        Bitte beachten Sie, dass der Versicherungswert realistisch angegeben werden muss (LUV-Wert).
                    </p>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-bold text-slate-700 mb-3">Erforderliche Flugzeugdaten</h3>
                            <ul class="space-y-2 text-sm text-slate-600">
                                <li class="p-2 bg-slate-50 rounded border-l-4 border-indigo-500">Kennzeichen & Wettbewerbskennzeichen</li>
                                <li class="p-2 bg-slate-50 rounded border-l-4 border-indigo-500">Flugzeugtyp, Werk-Nr., Baujahr</li>
                                <li class="p-2 bg-slate-50 rounded border-l-4 border-indigo-500">Kaufdatum & Kaufpreis</li>
                                <li class="p-2 bg-slate-50 rounded border-l-4 border-indigo-500">Flugstunden & Starts (bei Kauf)</li>
                                <li class="p-2 bg-slate-50 rounded border-l-4 border-indigo-500">
                                    <strong>Flarm:</strong> Ist ein betriebsbereites Flarm vorhanden? (Ja/Nein)
                                </li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-700 mb-3">Wichtige Hinweise zum Wert</h3>
                            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-100 text-sm text-yellow-800">
                                <p class="mb-2 font-bold">Mit oder ohne Mehrwertsteuer?</p>
                                <p>
                                    Wenn der Wert "ohne" MWST angegeben wird, erfolgt im Schadensfall die Regulierung ebenfalls ohne MWST. 
                                    Dies ist relevant für vorsteuerabzugsberechtigte Vereine/Halter.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-sky-50 border border-sky-100 rounded-xl p-6">
                    <h3 class="font-bold text-sky-800 mb-2 flex items-center"><i data-lucide="download" class="mr-2 h-5 w-5"></i> Download Formulare</h3>
                    <p class="text-sm text-sky-700 mb-4">Laden Sie das Anmeldeformular herunter, um ein neues Flugzeug anzumelden.</p>
                    <button class="bg-sky-600 text-white px-4 py-2 rounded hover:bg-sky-700 transition text-sm font-medium">
                        Anmeldeformular PDF herunterladen
                    </button>
                </div>
            </div>
        `;

        // --- Render Logic ---

        function renderNav() {
            const container = document.getElementById('nav-container');
            
            const desktopMenu = `
                <div class="hidden md:flex items-center space-x-4 lg:space-x-8">
                    ${NavButton("home", "Übersicht", "info")}
                    ${NavButton("conditions", "Versicherungsbedingungen", "shield-alert")}
                    ${NavButton("pilots", "Piloten & Betrieb", "plane")}
                    ${NavButton("new-entry", "Neuabschluss", "file-plus")}
                    ${NavButton("claims", "Schadenmeldung", "alert-triangle")}
                </div>
            `;

            const mobileMenuButton = `
                <div class="md:hidden flex items-center">
                    <button onclick="toggleMobileMenu()" class="text-gray-300 hover:text-white focus:outline-none">
                        <i data-lucide="${state.mobileMenuOpen ? 'x' : 'menu'}" class="h-6 w-6"></i>
                    </button>
                </div>
            `;

            const mobileMenu = state.mobileMenuOpen ? `
                <div class="md:hidden bg-slate-800 pb-4">
                    ${MobileNavButton("home", "Übersicht")}
                    ${MobileNavButton("conditions", "Bedingungen")}
                    ${MobileNavButton("pilots", "Piloten & Betrieb")}
                    ${MobileNavButton("new-entry", "Neuabschluss / Verlängerung")}
                    ${MobileNavButton("claims", "Schadenmeldung")}
                </div>
            ` : '';

            container.innerHTML = `
                <nav class="bg-slate-900 text-white shadow-lg">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="flex justify-between h-16">
                            <div class="flex items-center cursor-pointer" onclick="setActiveTab('home')">
                                <i data-lucide="shield" class="text-sky-400 mr-2 h-8 w-8"></i>
                                <span class="font-bold text-xl tracking-tight">LUV Portal</span>
                            </div>
                            
                            ${desktopMenu}
                            ${mobileMenuButton}
                        </div>
                    </div>
                    ${mobileMenu}
                </nav>
            `;
        }

        function renderContent() {
            const container = document.getElementById('main-content');
            let content = '';

            switch(state.activeTab) {
                case 'conditions': content = ConditionsView(); break;
                case 'pilots': content = PilotsView(); break;
                case 'claims': content = ClaimsView(); break;
                case 'new-entry': content = NewEntryView(); break;
                default: content = HomeView();
            }
            
            container.innerHTML = content;
        }

        function renderApp() {
            renderNav();
            renderContent();
            lucide.createIcons();
        }

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            renderApp();
        });

    </script>
</body>
</html>
